"use strict";StackExchange.inlineTagEditing=function(){function e(e){e.find(".js-tag-editor-container")&&u(!0)}var t,n,i,r,o,a=$("<div></div>"),s=$(".js-tags-label"),c=function(){n.unbind("click").one("click",function(){i.fadeOut("fast",function(){i.appendTo(a),StackExchange.helpers.addSpinner(t),$.ajax({"type":"GET","url":"/posts/"+r+"/edit-tags","data":{"reviewTaskId":o,"numColumns":t.data("columns")},"dataType":"html","success":l,"error":d})}),s.fadeOut("fast")})},u=function(e){StackExchange.helpers.disableSubmitButton(t),StackExchange.helpers.removeMessages();var n=function(){t.empty(),i.appendTo(t),i.show(),t.fadeIn("fast"),s.fadeIn("fast"),c()};e?n():t.fadeOut("fast",n)},l=function(e){StackExchange.helpers.removeSpinner();var n=$(e);"function"==typeof $().autocomplete&&(n=n.not('script[src*="tageditor.js"]'));var a=$('<form method="post" id="edit-tags-form" action="/posts/'+r+'/edit-tags"></form>');t.css("display","none").append(a),a.append(n),t.find(".js-tag-editor-container").after('<div class="form-submit grid gs4 mt8"><input type="hidden" name="fkey" value="'+StackExchange.options.user.fkey+'" /><input type="hidden" name="reviewTaskId" value="'+o+'" />'+$("<input>",{"class":"grid--cell s-btn s-btn__primary","id":"edit-tags-submit","type":"submit","value":"Save Tag Edits","tabindex":"104"}).prop("outerHTML")+'<a id="edit-tags-cancel" class="grid--cell s-btn cancel-edit" href="#" tabindex="105">Cancel</a></div><div class="js-general-error general-error cbt d-none"></div>'),StackExchange.using("postValidation",function(){StackExchange.postValidation.initOnBlurAndSubmit(a,1,"tags",!1,function(e){i.find("a.post-tag").remove(),i.prepend(e.html),u(),$(document).trigger("retag",r)})}),a.find(".cancel-edit").click(function(e){u(),s.fadeIn("fast"),StackExchange.using("beginEditEvent",function(){StackExchange.beginEditEvent.cancel()}),e.preventDefault()}),setTimeout(function(){t.fadeIn("fast",function(){$("#tagnames").focus()})},50)},d=function(e){StackExchange.helpers.removeSpinner(),u(),StackExchange.helpers.showErrorMessage(i,e.responseText&&e.responseText.length<300?e.responseText:"An error occurred when fetching the tag editor")};return{"init":function(e){if(!StackExchange.disableInlineTagEdits){e||(e={});var o=e.editTagsText||"Edit tags";r=$('div.question div.vote > input[type="hidden"]').val()||$("div.question").attr("data-questionid"),t=$("div.question div.post-taglist"),t.find("a.post-tag").wrapAll('<span class="edit-tags-wrapper"></span>'),i=t.find("span.edit-tags-wrapper");var a=$('<a href="javascript:void(0)" id="edit-tags" class="fw-normal p4 m2 ws-nowrap">').attr("title","Edit this question's tags").text(o);n=$("<span>").append(a),i.append(n),c()}},"cancelForFullEditor":e}}();